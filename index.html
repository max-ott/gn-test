<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    <script>
      if (navigator.userAgent.indexOf('gonative') > -1) {               
        function gonative_info_ready(inAppPurchases) {
          console.log("gonative_info_ready")
          console.log(inAppPurchases);
          const products = inAppPurchases["inAppPurchases"]["products"]
          const container = document.getElementById("iap");
          products.forEach(function(product) {
              var element2 = "<div class='d-flex w-100 justify-content-between'>"
              var element3 = `<h5 class='mb-1'>${product.localizedTitle}</h5>`
              var element4 = `<small class="price">${product.priceFormatted}</small>`
              var element5 = "</div>"
              var element6 = `<p class="mb-1">${product.localizedDescription}</p>`
              var on = document.createElement("a");
              on.classList.add("list-group-item", "list-group-item-action")
              on.id = product.productID
              on.href = `gonative://purchase/${product.productID}`
              on.innerHTML = element2 + element3 + element4 + element5 + element6
              container.appendChild(on);
            });
        }
      }
    </script>
  </head>
  <body>
    <h1>In App Purchases</h1>
    <div id="iap"></div>
  </body>
</html>
